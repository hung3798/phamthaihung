<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    let nameCustomer = "Tran Anh Tuan";
    let idCard = "184303728";
    let birthdayCustomer = "12/06/1997";
    let emailCustomer = "anhtuandt97@gmail.com";
    let addressCustomer = "Đà Nẵng";
    let typeCustomer = "Diamond";
    let discount = 650;
    let numberOfAccompanying = 2;
    let typeRoom = "Business";
    let rentDays = 10;
    let typeService = "Villa";
    let totalPays = 500 * Number.parseInt(rentDays) * (1 - Number.parseFloat(discount) / 100);
    displayMenuMain();

    function displayMenuMain() {
        choose = prompt(
            "1. Show Information Customer.\n" +
            "2. Edit Information Customer.\n" +
            "3. Show The Amount To Be Paid After Discount.\n"
        );
        switch (choose) {
            case "1":
                showCustomerInfor();
                break;
            case "2":
                editCustomerInfor();
                break;
            case "3":
                showPayAmount();
                break;
            default:
                alert("Fall!!!");
                break;
        }
    }

    function showCustomerInfor() {
        alert
        (
            "Information Of Customer:\n" +
            "Name: " + nameCustomer +
            "\nId Card:" + idCard +
            "\nBirthday:" + birthdayCustomer +
            "\nEmail Customer:" + emailCustomer +
            "\nAddress Customer:" + addressCustomer +
            "\nType Customer:" + typeCustomer +
            "\nDiscount:" + discount +
            "\nNumber Of Accompanying:" + numberOfAccompanying +
            "\nType Room:" + typeRoom +
            "\nRent Days:" + rentDays +
            "\nType Service:" + typeService
        );
    }

    function editCustomerInfor() {
        chooseEdit = prompt(
            "Choose Information Customer You Want Edit:\n" +
            "1.Name: " + nameCustomer +
            "\n2.Id Card:" + idCard +
            "\n3.Birthday:" + birthdayCustomer +
            "\n4.Email Customer:" + emailCustomer +
            "\n5.Address Customer:" + addressCustomer +
            "\n6.Type Customer:" + typeCustomer +
            "\n7.Discount:" + discount +
            "\n8.Number Of Accompanying:" + numberOfAccompanying +
            "\n9.Type Room:" + typeRoom +
            "\n10.Rent Days:" + rentDays +
            "\n11.Type Service:" + typeService
        );
        processEditCustomerInfor();
        showCustomerInfor();
    }

    function processEditCustomerInfor() {
        switch (chooseEdit) {
            case "1":
                nameCustomer = prompt("Enter Name Customer You Want Edit:");
                break;
            case "2":
                idCard = prompt("Enter Id Card Customer You Want Edit:");
                break;
            case "3":
                birthdayCustomer = prompt("Enter Birthday Customer You Want Edit: (dd/MM/YYYY)");
                break;
            case "4":
                emailCustomer = prompt("Enter email Customer You Want Edit:");
                break;
            case "5":
                addressCustomer = prompt("Enter Address Customer You Want Edit:");
                break;
            case "6":
                typeCustomer = prompt("Enter Type Customer You Want Edit:");
                break;
            case "7":
                discount = prompt("Enter Discount You Want Edit:");
                break;
            case "8":
                numberOfAccompanying = prompt("Enter Number Of Accompanying You Want Edit:");
                break;
            case "9":
                typeRoom = prompt("Enter Type Room You Want Edit:");
                break;
            case "10":
                rentDays = prompt("Enter Rent Days You Want Edit:");
                break;
            case "11":
                typeService = prompt("Enter Type Service You Want Edit:");
                break;
            default:
                alert("Fall!!!");
                break;
        }
    }

    function showPayAmount() {
         totalPays = parseFloat(getServicePrice()) * parseInt(rentDays) * (1 - parseFloat(getDiscount()) / 100);
        alert(totalPays);
    }

    function getServicePrice() {
        if (typeService === "Villa") {
            discount = 500;
        }
        else if (typeService === "House") {
            discount = 300;
        }
        else if (typeService === "Room") {
            discount = 100;
        }
        return discount;
    }

    function getDiscount() {
        priceByAddress();
        priceOverTime();
        priceByTypeCustomer();
        priceByAgeAndAdress();
        return discount;
    }

    function priceByAddress() {
        switch (addressCustomer) {
            case "Đà Nẵng" :
                discount += 20;
                break;
            case "Huế " :
                discount += 10;
                break;
            case "Quảng Nam" :
                discount += 5;
                break;
        }
    }

    function priceOverTime() {
        if (rentDays > 7) {
            discount += 30;
        } else if (5 <= rentDays && rentDays <= 7) {
            discount += 20;
        } else if (2 <= rentDays && rentDays <= 4) {
            discount += 10;
        }
    }

    function priceByTypeCustomer() {
        switch (typeCustomer) {
            case "Diamond":
                discount += 15;
                break;
            case "Platium":
                discount += 10;
                break;
            case "Gold":
                discount += 5;
                break;
            case "Silver":
                discount += 2;
                break;
            case "Member":
                discount += 0;
                break;
        }
    }

    function priceByAgeAndAdress() {
        let ageCustomber = new Date().getFullYear() - new Date(birthdayCustomer).getFullYear();
        if (ageCustomber > 30 && addressCustomer === "Đà Nẵng") {
            discount += 2;
        } else if (20 <= ageCustomber && ageCustomber <= 30 && addressCustomer === "Đà Nẵng") {
            discount += 1;
        }
    }
</script>
</body>
</html>